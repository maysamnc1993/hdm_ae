document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("header.sticky, .sticky-header"),t=e?e.offsetHeight:0,n=document.querySelectorAll(".toc-link");n.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const n=this.getAttribute("href").substring(1),o=document.getElementById(n);if(o){const e=o.getBoundingClientRect().top+window.pageYOffset-t-20;window.scrollTo({top:e,behavior:"smooth"})}}))}));const o=document.querySelectorAll("h2[id], h3[id]"),r=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.getAttribute("id"),o=document.querySelector(`.toc-link[href="#${t}"]`);e.isIntersecting&&(n.forEach((e=>e.querySelector(".line-link-el").classList.remove("line-link-el-active"))),o&&o.querySelector(".line-link-el").classList.add("line-link-el-active"))}))}),{root:null,rootMargin:`-${t}px 0px 0px 0px`,threshold:.1});o.forEach((e=>r.observe(e))),window.addEventListener("unload",(()=>{o.forEach((e=>r.unobserve(e)))}))}));
