import"jquery";import{g as t,S as e}from"../ScrollTrigger.js";import{D as i}from"../Draggable.js";t.registerPlugin(i),jQuery(document).ready((function(e){const i=e(".hero .decorative-image").toArray().map((t=>e(t)));e(document).on("mousemove",(n=>{const o=e(window).width(),s=e(window).height(),r=n.clientX-o/4,a=n.clientY-s/4;i.forEach(((e,i)=>{const n=.05*r*(i%2==0?1:-1),o=.05*a*(i<2?1:-1);t.to(e,{x:n,y:o,duration:.5,ease:"power2.out"})}))}))})),t.registerPlugin(e),jQuery(document).ready((function(i){i(".image-container").length&&(t.set(".image-left",{rotation:0,x:160,zIndex:5}),t.set(".image-right",{rotation:0,x:-160,zIndex:5}),t.set(".image-center",{zIndex:10}),t.to(".image-left",{rotation:-15,x:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:".image-container",start:"top 70%",end:"bottom 30%",toggleActions:"play none none reverse",scrub:.5}}),t.to(".image-right",{rotation:15,x:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:".image-container",start:"top 70%",end:"bottom 30%",toggleActions:"play none none reverse",scrub:.5}}));const n=new class{constructor(){this.statSection=document.querySelector(".stat"),this.statBg=document.querySelector(".stat-bg"),this.statItems=document.querySelectorAll(".stat-item"),this.counters=document.querySelectorAll("[data-count]"),this.masterTimeline=null,this.currentCounterValues={},this.hasAnimated=!1,this.init()}init(){this.statSection&&this.statBg&&this.counters.length&&(this.setupInitialStates(),this.createScrollControlledTimeline(),this.setupHoverEffects())}setupInitialStates(){t.set(this.statBg,{scale:1,transformOrigin:"center center",filter:"brightness(0.9) contrast(1.0)",willChange:"transform, filter"}),t.set(this.statItems,{opacity:0,scale:.8,y:50,willChange:"transform, opacity"}),this.counters.forEach(((t,e)=>{t.textContent="0";const i=t.getAttribute("data-count"),n=parseFloat(i)||0;this.currentCounterValues[e]={current:0,target:n,animObj:{value:0},element:t}}))}createScrollControlledTimeline(){this.masterTimeline=t.timeline({scrollTrigger:{trigger:this.statSection,start:"top 85%",end:"bottom top",scrub:1,onEnter:()=>{this.hasAnimated||(this.hasAnimated=!0)},onLeaveBack:()=>{}}}),this.masterTimeline.to(this.statBg,{scale:1.3,filter:"brightness(0.8) contrast(1.2) saturate(1.1)",duration:2,ease:"power2.inOut"},0),this.statItems.forEach(((t,e)=>{this.masterTimeline.to(t,{opacity:1,scale:1,y:0,duration:.5,ease:"power3.out"},.2+.1*e)})),this.counters.forEach(((t,e)=>{const i=this.currentCounterValues[e];this.masterTimeline.to(i.animObj,{value:i.target,duration:1.5,ease:"power2.out",onUpdate:()=>{this.updateCounterDisplay(e,i.animObj.value)},onComplete:()=>{this.updateCounterDisplay(e,i.target)}},.5+.1*e)}))}updateCounterDisplay(e,i){const n=this.currentCounterValues[e],o=n.element,s=Math.floor(i),r=n.target;let a;a=r>=1e6?(s/1e6).toFixed(1).replace(/\.0$/,"")+"M":r>=1e3?(s/1e3).toFixed(1).replace(/\.0$/,"")+"K":s.toString(),o.textContent=a,i>0&&i<r&&t.to(o,{scale:1.05,duration:.15,yoyo:!0,repeat:1,ease:"power2.inOut"})}setupHoverEffects(){this.statItems.forEach(((e,i)=>{const n=document.createElement("div");n.className="glass-background",n.style.cssText="\n          position: absolute;\n          text-align: center;\n          left: 0px;\n          right: 0px;\n          top: 0px;\n          bottom: 0px;\n          width: 100%;\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(10px);\n          border-radius: 15px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          opacity: 0;\n          pointer-events: none;\n          z-index: -1;\n        ",e.style.position="relative",e.appendChild(n);const o=t.timeline({paused:!0});o.to(n,{opacity:1,scale:1.05,duration:.4,ease:"power2.out"}),o.to(e,{y:-8,duration:.4,ease:"power2.out"},0);const s=e.querySelector("[data-count]");s&&o.to(s,{scale:1.05,duration:.4,ease:"power2.out"},0),e.addEventListener("mouseenter",(()=>o.play())),e.addEventListener("mouseleave",(()=>o.reverse()))}))}setProgress(t){this.masterTimeline.progress(t)}getCurrentProgress(){return this.masterTimeline.progress()}pause(){e.getAll().forEach((t=>t.disable()))}resume(){e.getAll().forEach((t=>t.enable()))}};let o;window.scrollStatsController=n,t.config({force3D:!0,nullTargetWarn:!1}),e.config({limitCallbacks:!0,syncInterval:16,ignoreMobileResize:!0}),window.addEventListener("resize",(()=>{clearTimeout(o),o=setTimeout((()=>{e.refresh()}),300)})),window.addEventListener("beforeunload",(()=>{e.killAll(),t.killTweensOf("*")}))})),jQuery(document).ready((function(e){e(".colorful-text-section .animated-text").each((function(){const t=e(this).text().split("");let i="";t.forEach(((t,e)=>{i+=" "===t?'<span class="space">&nbsp;</span>':`<span class="letter" data-index="${e}">${t}</span>`})),e(this).html(i)}));const i=e(".colorful-text-section .letter");i.length;const n=e(".colorful-text-section .animated-text").data("text-color")||"#252D44",o=t.timeline({scrollTrigger:{trigger:".colorful-text-section",start:"top center",end:"center center",scrub:!0,markers:!1}});i.each((function(t){o.to(e(this),{color:n,duration:.1,ease:"none"},.01*t)}))})),jQuery(document).ready((function(t){const e=t(".skill-card");setTimeout((()=>{e.each((function(e){const i=t(this);setTimeout((()=>{i.addClass("animate")}),300*e)}))}),500);const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.intersectionRatio>.3&&t(e.target).addClass("animate")}))}),{threshold:[.1,.3,.5]});e.each((function(){i.observe(this)})),t(window).scroll((function(){t(this).scrollTop()}))})),jQuery(document).ready((function(t){const e=t(".skill-card");e.each((function(e){const i=t(this);setTimeout((()=>{i.addClass("animate")}),300*e)}));const i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&t(e.target).addClass("animate")}))}),{threshold:.2});e.each((function(){i.observe(this)}))})),jQuery(document).ready((function(e){new class{constructor(){this.$titles=e(".titles .title"),this.$contentItems=e(".content .content-item"),this.activeTitleId="1",this.isAnimating=!1,this.animationTimeout=null,this.currentTimeline=null,this.pendingAnimation=null,this.init()}init(){this.setupIntersectionObserver(),this.bindEvents()}setupIntersectionObserver(){const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(this.initializeSection(),t.unobserve(e.target))}))}),{threshold:.3});t.observe(e(".grow-app")[0])}initializeSection(){t.to(".grow-app",{opacity:1,y:0,duration:.8,ease:"power3.out"}),t.to(this.$titles,{opacity:1,x:0,duration:.6,stagger:.1,ease:"power2.out",delay:.3,onComplete:()=>{this.$titles.addClass("animate-in")}}),setTimeout((()=>{this.showContentItem("1",!0)}),800)}showContentItem(t,e=!1){this.pendingAnimation&&this.pendingAnimation!==t&&this.executePendingAnimation(),(t!==this.activeTitleId||e)&&(!this.isAnimating||e?this.executeAnimation(t,e):this.pendingAnimation=t)}executeAnimation(e,i=!1){this.isAnimating=!0,this.activeTitleId=e,this.pendingAnimation=null;const n=this.$contentItems.filter(`[data-title="${e}"]`),o=this.$contentItems.filter(".active"),s=this.$titles.filter(`[data-title="${e}"]`);this.currentTimeline&&this.currentTimeline.kill(),this.$titles.removeClass("active"),s.addClass("active"),this.currentTimeline=t.timeline({onComplete:()=>{if(this.isAnimating=!1,this.currentTimeline=null,this.pendingAnimation){const t=this.pendingAnimation;this.pendingAnimation=null,setTimeout((()=>{this.executeAnimation(t)}),50)}}}),o.length&&!i&&this.currentTimeline.to(o,{opacity:0,y:-20,scale:.95,duration:.25,ease:"power2.in",onComplete:()=>{o.removeClass("active")}}),this.currentTimeline.set(n,{opacity:0,y:30,scale:.95}).add((()=>{n.addClass("active")})).to(n,{opacity:1,y:0,scale:1,duration:.5,ease:"power3.out"},i?0:.1),this.currentTimeline.fromTo(n.find("img"),{scale:1.08,opacity:.8},{scale:1,opacity:1,duration:.7,ease:"power2.out"},i?.15:.25),this.currentTimeline.fromTo(n.find("h3, p"),{opacity:0,y:15},{opacity:1,y:0,duration:.4,stagger:.08,ease:"power2.out"},i?.3:.35)}executePendingAnimation(){this.currentTimeline&&this.currentTimeline.progress(1)}debouncedHover(t){clearTimeout(this.animationTimeout),this.animationTimeout=setTimeout((()=>{this.showContentItem(t)}),80)}bindEvents(){this.$titles.on("mouseenter",(t=>{const i=e(t.currentTarget).data("title");i!==this.activeTitleId&&this.debouncedHover(i)})),this.$titles.on("click",(t=>{t.preventDefault();const i=e(t.currentTarget).data("title");clearTimeout(this.animationTimeout),i!==this.activeTitleId&&this.showContentItem(i),window.innerWidth<=768&&e("html, body").animate({scrollTop:e(".content").offset().top-100},300)})),this.$titles.on("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e(t.currentTarget).trigger("click"))})),e(".titles").on("mouseleave",(()=>{clearTimeout(this.animationTimeout)}))}}}));
