import{g as t,D as e,S as r}from"../ScrollTrigger.js";import"../faq.js";t.registerPlugin(e),t.registerPlugin(r),jQuery(document).ready((function(e){e(".image-container").length&&(t.set(".image-left",{rotation:0,x:160,zIndex:5}),t.set(".image-right",{rotation:0,x:-160,zIndex:5}),t.set(".image-center",{zIndex:10}),t.to(".image-left",{rotation:-15,x:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:".image-container",start:"top 70%",end:"bottom 30%",toggleActions:"play none none reverse",scrub:.5}}),t.to(".image-right",{rotation:15,x:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:".image-container",start:"top 70%",end:"bottom 30%",toggleActions:"play none none reverse",scrub:.5}}));const n=new class{constructor(){this.statSection=document.querySelector(".stat"),this.statBg=document.querySelector(".stat-bg"),this.statItems=document.querySelectorAll(".stat-item"),this.counters=document.querySelectorAll("[data-count]"),this.masterTimeline=null,this.currentCounterValues={},this.hasAnimated=!1,this.init()}init(){this.statSection&&this.statBg&&this.counters.length&&(this.setupInitialStates(),this.createScrollControlledTimeline(),this.setupHoverEffects())}setupInitialStates(){t.set(this.statBg,{scale:1,transformOrigin:"center center",filter:"brightness(0.9) contrast(1.0)",willChange:"transform, filter"}),t.set(this.statItems,{opacity:0,scale:.8,y:50,willChange:"transform, opacity"}),this.counters.forEach(((t,e)=>{t.textContent="0";const r=t.getAttribute("data-count"),n=parseFloat(r)||0;this.currentCounterValues[e]={current:0,target:n,animObj:{value:0},element:t}}))}createScrollControlledTimeline(){this.masterTimeline=t.timeline({paused:!0,scrollTrigger:{trigger:this.statSection,start:"top 85%",end:"bottom 15%",once:!0,onEnter:()=>{this.hasAnimated||(this.masterTimeline.play(),this.hasAnimated=!0)}}}),this.masterTimeline.to(this.statBg,{scale:1.2,filter:"brightness(0.8) contrast(1.2) saturate(1.1)",duration:.5,ease:"power1.inOut"},.1),this.statItems.forEach(((t,e)=>{this.masterTimeline.to(t,{opacity:1,scale:1,y:0,duration:.3,ease:"power3.out"},.1+.05*e)})),this.counters.forEach(((t,e)=>{const r=this.currentCounterValues[e];this.masterTimeline.to(r.animObj,{value:r.target,duration:.8,ease:"power2.out",onUpdate:()=>{this.updateCounterDisplay(e,r.animObj.value)},onComplete:()=>{this.updateCounterDisplay(e,r.target)}},.3+.05*e)}))}updateCounterDisplay(e,r){const n=this.currentCounterValues[e],o=n.element,i=Math.floor(r),s=n.target;let a;a=s>=1e6?(i/1e6).toFixed(1).replace(/\.0$/,"")+"M":s>=1e3?(i/1e3).toFixed(1).replace(/\.0$/,"")+"K":i.toString(),o.textContent=a,r>0&&r<s&&t.to(o,{scale:1.05,duration:.15,yoyo:!0,repeat:1,ease:"power2.inOut"})}setupHoverEffects(){this.statItems.forEach(((e,r)=>{const n=document.createElement("div");n.className="glass-background",n.style.cssText="\n          position: absolute;\n          text-align: center;\n          left: 0px;\n          right: 0px;\n          top: 0px;\n          bottom: 0px;\n          width: 100%;\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(10px);\n          border-radius: 15px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          opacity: 0;\n          pointer-events: none;\n          z-index: -1;\n        ",e.style.position="relative",e.appendChild(n);const o=t.timeline({paused:!0});o.to(n,{opacity:1,scale:1.05,duration:.4,ease:"power2.out"}),o.to(e,{y:-8,duration:.4,ease:"power2.out"},0);const i=e.querySelector("[data-count]");i&&o.to(i,{scale:1.05,duration:.4,ease:"power2.out"},0),e.addEventListener("mouseenter",(()=>o.play())),e.addEventListener("mouseleave",(()=>o.reverse()))}))}setProgress(t){this.masterTimeline.progress(t)}getCurrentProgress(){return this.masterTimeline.progress()}pause(){r.getAll().forEach((t=>t.disable()))}resume(){r.getAll().forEach((t=>t.enable()))}};let o;window.scrollStatsController=n,t.config({force3D:!0,nullTargetWarn:!1}),r.config({limitCallbacks:!0,syncInterval:16,ignoreMobileResize:!0}),window.addEventListener("resize",(()=>{clearTimeout(o),o=setTimeout((()=>{r.refresh()}),300)})),window.addEventListener("beforeunload",(()=>{r.killAll(),t.killTweensOf("*")}))})),jQuery(document).ready((function(r){let n=0;t.timeline().set(dragger,{opacity:0}).set(ring,{rotationY:180}).set(".img",{rotateY:t=>-30*t,transformOrigin:"50% 50% 1000px",z:-1e3,backfaceVisibility:"hidden"}).from(".img",{duration:1.5,y:200,opacity:0,stagger:.1,ease:"expo"}),e.create(dragger,{onDragStart:t=>{t.touches&&(t.clientX=t.touches[0].clientX),n=Math.round(t.clientX)},onDrag:e=>{e.touches&&(e.clientX=e.touches[0].clientX),t.to(ring,{rotationY:"-="+(Math.round(e.clientX)-n)%360,onUpdate:()=>{t.set(".img",{backgroundPosition:e=>function(e){return-t.utils.wrap(0,360,t.getProperty(ring,"rotationY")-180-18*e)/360*400+"px 0px"}(e)})}}),n=Math.round(e.clientX)},onDragEnd:()=>{t.set(dragger,{x:0,y:0})}})}));
