import{g as t,S as e}from"../ScrollTrigger.js";import"../faq.js";t.registerPlugin(e),jQuery(document).ready((function(r){r(".image-container").length&&(t.set(".image-left",{rotation:0,x:160,zIndex:5}),t.set(".image-right",{rotation:0,x:-160,zIndex:5}),t.set(".image-center",{zIndex:10}),t.to(".image-left",{rotation:-15,x:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:".image-container",start:"top 70%",end:"bottom 30%",toggleActions:"play none none reverse",scrub:.5}}),t.to(".image-right",{rotation:15,x:0,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:".image-container",start:"top 70%",end:"bottom 30%",toggleActions:"play none none reverse",scrub:.5}}));const s=new class{constructor(){this.statSection=document.querySelector(".stat"),this.statBg=document.querySelector(".stat-bg"),this.statItems=document.querySelectorAll(".stat-item"),this.counters=document.querySelectorAll("[data-count]"),this.masterTimeline=null,this.currentCounterValues={},this.hasAnimated=!1,this.init()}init(){this.statSection&&this.statBg&&this.counters.length&&(this.setupInitialStates(),this.createScrollControlledTimeline(),this.setupHoverEffects())}setupInitialStates(){t.set(this.statBg,{scale:1,transformOrigin:"center center",filter:"brightness(0.9) contrast(1.0)",willChange:"transform, filter"}),t.set(this.statItems,{opacity:0,scale:.8,y:50,willChange:"transform, opacity"}),this.counters.forEach(((t,e)=>{t.textContent="0";const r=t.getAttribute("data-count"),s=parseFloat(r)||0;this.currentCounterValues[e]={current:0,target:s,animObj:{value:0},element:t}}))}createScrollControlledTimeline(){this.masterTimeline=t.timeline({paused:!0,scrollTrigger:{trigger:this.statSection,start:"top 85%",end:"bottom 15%",once:!0,onEnter:()=>{this.hasAnimated||(this.masterTimeline.play(),this.hasAnimated=!0)}}}),this.masterTimeline.to(this.statBg,{scale:1.2,filter:"brightness(0.8) contrast(1.2) saturate(1.1)",duration:.5,ease:"power1.inOut"},.1),this.statItems.forEach(((t,e)=>{this.masterTimeline.to(t,{opacity:1,scale:1,y:0,duration:.3,ease:"power3.out"},.1+.05*e)})),this.counters.forEach(((t,e)=>{const r=this.currentCounterValues[e];this.masterTimeline.to(r.animObj,{value:r.target,duration:.8,ease:"power2.out",onUpdate:()=>{this.updateCounterDisplay(e,r.animObj.value)},onComplete:()=>{this.updateCounterDisplay(e,r.target)}},.3+.05*e)}))}updateCounterDisplay(e,r){const s=this.currentCounterValues[e],o=s.element,n=Math.floor(r),i=s.target;let a;a=i>=1e6?(n/1e6).toFixed(1).replace(/\.0$/,"")+"M":i>=1e3?(n/1e3).toFixed(1).replace(/\.0$/,"")+"K":n.toString(),o.textContent=a,r>0&&r<i&&t.to(o,{scale:1.05,duration:.15,yoyo:!0,repeat:1,ease:"power2.inOut"})}setupHoverEffects(){this.statItems.forEach(((e,r)=>{const s=document.createElement("div");s.className="glass-background",s.style.cssText="\n          position: absolute;\n          text-align: center;\n          left: 0px;\n          right: 0px;\n          top: 0px;\n          bottom: 0px;\n          width: 100%;\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(10px);\n          border-radius: 15px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          opacity: 0;\n          pointer-events: none;\n          z-index: -1;\n        ",e.style.position="relative",e.appendChild(s);const o=t.timeline({paused:!0});o.to(s,{opacity:1,scale:1.05,duration:.4,ease:"power2.out"}),o.to(e,{y:-8,duration:.4,ease:"power2.out"},0);const n=e.querySelector("[data-count]");n&&o.to(n,{scale:1.05,duration:.4,ease:"power2.out"},0),e.addEventListener("mouseenter",(()=>o.play())),e.addEventListener("mouseleave",(()=>o.reverse()))}))}setProgress(t){this.masterTimeline.progress(t)}getCurrentProgress(){return this.masterTimeline.progress()}pause(){e.getAll().forEach((t=>t.disable()))}resume(){e.getAll().forEach((t=>t.enable()))}};let o;window.scrollStatsController=s,t.config({force3D:!0,nullTargetWarn:!1}),e.config({limitCallbacks:!0,syncInterval:16,ignoreMobileResize:!0}),window.addEventListener("resize",(()=>{clearTimeout(o),o=setTimeout((()=>{e.refresh()}),300)})),window.addEventListener("beforeunload",(()=>{e.killAll(),t.killTweensOf("*")}))}));
